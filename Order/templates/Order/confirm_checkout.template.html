{% extends 'base.template.html' %}

{% load static %}

{% block page_title %} Confirm Order {% endblock %}

{% block content %}
    <div class="mt-3 container-fluid">
        <h3 class="text-center"><strong>Order Summary</strong></h3>
        
        <div class="row justify-content-center">
            <div class="col-sm-6">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Unit Price</th>
                            <th>Quantity</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for id, book in shopping_cart.items %}
                        
                            <tr>
                                <td>
                                    <div>{{ book.title }}</div>
                                </td>
                                
                                <td>
                                    ${{ book.price }}
                                </td>
                                
                                <td>
                                    {{ book.quantity_ordered }}
                                </td>
                                
                                <td>
                                    ${{ book.total_price }}
                                </td>
                            </tr>
                        {%endfor%}
                        
                            <tr>
                                <td></td>
                                <td></td>
                                <td>
                                    Delivery Fees
                                </td>
                                <td>
                                    ${{ delivery_fee }}
                                </td>
                            </tr>
                            
                            <tr>
                                <td></td>
                                <td></td>
                                <td>
                                    Subtotal
                                </td>
                                <td>
                                    ${{ subtotal }}
                                </td>                               
                            </tr>
                    </tbody>
                </table>
                
                <div class="text-center">
                    <a class="btn btn-primary" href="{% url 'checkout' %}" role="button">Place Order $<span id="total_payable_amount">{{ subtotal }}</span></a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}